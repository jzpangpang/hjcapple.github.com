---
title: 二进制文件格式设计
layout: post
published: false
---

程序生成一些数据需要保持下来，比如一个矢量绘图软件生成一个矢量数据，一个 3D 软件生成一些 3D 模型。这样就需要为这个程序设计一种数据格式。

应该优先采用文本格式，文本格式容易检查输出的结果，简单的编辑时候也不需要专门的工具。但文本格式输出的文件通常会很大。

当需要控制输出的文件尺寸时，例如文件需要经过网络传输，就需要设计自己二进制格式。本文就简单描述一下，二进制文件格式的整体结构和一些必要字段。

## 整体结构
很多二进制格式整体结构都是差不多的，都会有一个文件头和一些内容分区。

![whole.png](/media/images/bin-file/whole.svg)

Header 描述了文件的元数据。内容分区是存放更应用相关的具体数据。



